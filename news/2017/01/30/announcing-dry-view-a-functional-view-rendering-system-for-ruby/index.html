<!DOCTYPE html><html lang="en"><head><meta charset="utf-8" /><meta content="phone" media="(max-width: 480px)" name="breakpoint" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="/feed.xml" rel="alternate" title="dry-rb news" type="application/atom+xml" /><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:400,400i,600,600i" rel="stylesheet" /><link href="/images/favicon-651cfa16.png" rel="icon" /><link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet" /><!--[if IE]><link href="/images/favicon.ico" rel="shortcut icon" /><![endif]--><title>dry-rb - Announcing dry-view, a functional view rendering system for Ruby</title><link href="/assets/stylesheets/site-17d6239a.css" rel="stylesheet" /><script src="/assets/javascripts/site-948a8a19.js"></script></head><body><header><div class="content-wrap"><nav class="main-nav"><ul class="main-nav__list"><li class="main-nav__logo"><a href="/">dry-rb</a></li><li class="main-nav__with-dropdown"><a href="/gems">Gems <span class="hide-mobile">/ Docs </span></a><div class="main-nav__dropdown main-nav__dropdown--gems"><ul><li></li><a href="/gems/dry-auto_inject/1.0">dry-auto_inject</a><li></li><a href="/gems/dry-cli/1.1">dry-cli</a><li></li><a href="/gems/dry-configurable/1.0">dry-configurable</a><li></li><a href="/gems/dry-container/0.11">dry-container</a><li></li><a href="/gems/dry-core/1.0">dry-core</a><li></li><a href="/gems/dry-effects/0.4">dry-effects</a><li></li><a href="/gems/dry-equalizer/0.2">dry-equalizer</a><li></li><a href="/gems/dry-events/1.0">dry-events</a><li></li><a href="/gems/dry-files/1.0">dry-files</a><li></li><a href="/gems/dry-inflector/1.0">dry-inflector</a><li></li><a href="/gems/dry-initializer/3.1">dry-initializer</a><li></li><a href="/gems/dry-logger/1.1">dry-logger</a><li></li><a href="/gems/dry-logic/1.5">dry-logic</a></ul><ul><li></li><a href="/gems/dry-matcher/1.0">dry-matcher</a><li></li><a href="/gems/dry-monads/1.6">dry-monads</a><li></li><a href="/gems/dry-monitor/1.0">dry-monitor</a><li></li><a href="/gems/dry-operation/1.0">dry-operation</a><li></li><a href="/gems/dry-rails/0.7">dry-rails</a><li></li><a href="/gems/dry-schema/1.13">dry-schema</a><li></li><a href="/gems/dry-struct/1.6">dry-struct</a><li></li><a href="/gems/dry-system/1.0">dry-system</a><li></li><a href="/gems/dry-transaction/0.15">dry-transaction</a><li></li><a href="/gems/dry-transformer/1.0">dry-transformer</a><li></li><a href="/gems/dry-types/1.7">dry-types</a><li></li><a href="/gems/dry-validation/1.10">dry-validation</a><li></li><a href="/gems/dry-view/0.8">dry-view</a></ul></div></li><li><a href="/status">Status</a></li><li class="main-nav__item--selected"><a href="/news">News</a></li><li><a href="/community">Community</a></li><br class="mobile-only" /><li class="main-nav__search"><form class="searchbox"><input class="form-control" id="search-input" type="text" /></form><script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" type="text/javascript"></script><script>docsearch({
  apiKey: '77902a61218a8fbaa06a6125cb6589a7',
  indexName: 'dry-rb',
  inputSelector: '#search-input',
  debug: false // Set debug to true if you want to inspect the dropdown
});</script></li><li class="main-nav__code"><a href="https://github.com/dry-rb">Github</a></li></ul></nav></div></header><div class="intro-page intro-page--content"><div class="content-wrap"><div class="intro-page__inner"><h1>Announcing dry-view, a functional view rendering system for Ruby</h1><div class="news-article-meta">Published on January 30, 2017 by <a href="https://twitter.com/timriley">Tim Riley</a></div></div></div></div><main><div class="row"><div class="content-wrap"><article class="news-article"><p>Say hello to <strong>dry-view</strong>, the newest member of the dry-rb family!</p>

<p>We’re pleased to announce the release of dry-view 0.2.1 and share its <a href="/gems/dry-view/">brand new documentation</a>.</p>

<p>Keen followers of dry-rb will note that dry-view has been around for a little while now, living on quietly as an extension of solnic’s original rodakase experiment.</p>

<p>With today’s release, dry-view sees major feature upgrades and usability improvements, making it ready for integration with your apps.</p>

<p>dry-view is a simple, standalone view rendering system for Ruby.  It brings the “functional object” paradigm to the view layer, allowing your views to act as stateless transformations, accepting user input and returning your rendered view.</p>

<p>You should consider dry-view if:</p>

<ul>
<li>You want to develop views that will work in any kind of context (dry-view is standalone, it doesn’t require an HTTP request!).</li>
<li>You’re using a lightweight routing DSL like Roda or Sinatra and you want to keep your routes clean and easy to understand (dry-view handles the integration with your application’s objects, all you need to provide from your routes is the user input data).</li>
<li>Your application uses dependency injection as its preferred approach to make objects available to each other (dry-view fits perfectly with dry-web and <a href="/gems/dry-system">dry-system</a>).</li>
</ul>

<p>dry-view is built around pairings of functional view controllers  and view templates. To get started, build a view controller:</p>
<div class="highlight"><pre class="syntax ruby"><code><span class="nb">require</span> <span class="s2">"dry-view"</span>
<span class="nb">require</span> <span class="s2">"slim"</span>

<span class="k">class</span> <span class="nc">HelloView</span> <span class="o">&lt;</span> <span class="no">Dry</span><span class="o">::</span><span class="no">View</span><span class="o">::</span><span class="no">Controller</span>
  <span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
    <span class="n">config</span><span class="p">.</span><span class="nf">paths</span> <span class="o">=</span> <span class="p">[</span><span class="no">File</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">__dir__</span><span class="p">,</span> <span class="s2">"templates"</span><span class="p">)]</span>
    <span class="n">config</span><span class="p">.</span><span class="nf">layout</span> <span class="o">=</span> <span class="s2">"application"</span>
    <span class="n">config</span><span class="p">.</span><span class="nf">template</span> <span class="o">=</span> <span class="s2">"hello"</span>
  <span class="k">end</span>

  <span class="n">expose</span> <span class="ss">:greeting</span>
<span class="k">end</span>
</code></pre></div>
<p>Write a layout (e.g. <code>templates/layouts/application.html.slim</code>):</p>
<div class="highlight"><pre class="syntax slim"><code><span class="nt">html</span>
  <span class="nt">body</span>
    <span class="p">==</span> <span class="k">yield</span>
</code></pre></div>
<p>And your template (e.g. <code>templates/hello.html.slim</code>)</p>
<div class="highlight"><pre class="syntax slim"><code><span class="nt">h1</span><span class="w"> </span>Hello!

<span class="nt">p</span><span class="w"> </span><span class="p">=</span> <span class="n">greeting</span>
</code></pre></div>
<p>Then <code>#call</code> your view controller to render your view:</p>
<div class="highlight"><pre class="syntax ruby"><code><span class="n">view</span> <span class="o">=</span> <span class="no">HelloView</span><span class="p">.</span><span class="nf">new</span>
<span class="n">view</span><span class="o">.</span><span class="p">(</span><span class="ss">greeting: </span><span class="s2">"Hello from dry-rb!"</span><span class="p">)</span>
<span class="c1"># =&gt; "&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello!&lt;/h1&gt;&lt;p&gt;Hello from dry-rb!&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</span>
</code></pre></div>
<p>That’s the simple example. Here’s what a real working view controller looks like in a dry-web-roda app, complete with auto-injection, multiple exposures, and view object decorators:</p>
<div class="highlight"><pre class="syntax ruby"><code><span class="nb">require</span> <span class="s2">"main/import"</span>
<span class="nb">require</span> <span class="s2">"main/view_controller"</span>
<span class="nb">require</span> <span class="s2">"main/decorators/public_post"</span>

<span class="k">module</span> <span class="nn">Main</span>
  <span class="k">module</span> <span class="nn">Views</span>
    <span class="k">module</span> <span class="nn">Posts</span>
      <span class="k">class</span> <span class="nc">Index</span> <span class="o">&lt;</span> <span class="no">Main</span><span class="o">::</span><span class="no">ViewController</span>
        <span class="kp">include</span> <span class="no">Main</span><span class="o">::</span><span class="no">Import</span><span class="p">[</span><span class="ss">repo: </span><span class="s2">"persistence.repositories.posts"</span><span class="p">]</span>

        <span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
          <span class="n">config</span><span class="p">.</span><span class="nf">template</span> <span class="o">=</span> <span class="s2">"posts/index"</span>
        <span class="k">end</span>

        <span class="n">expose</span> <span class="ss">:featured_post</span> <span class="k">do</span>
          <span class="n">post</span> <span class="o">=</span> <span class="n">repo</span><span class="p">.</span><span class="nf">featured_post</span>
          <span class="no">Decorators</span><span class="o">::</span><span class="no">PublicPost</span><span class="p">.</span><span class="nf">decorate</span><span class="p">(</span><span class="n">post</span><span class="p">)</span>
        <span class="k">end</span>

        <span class="n">expose</span> <span class="ss">:posts</span> <span class="k">do</span> <span class="o">|</span><span class="n">input</span><span class="o">|</span>
          <span class="n">posts</span> <span class="o">=</span> <span class="n">repo</span><span class="p">.</span><span class="nf">listing</span><span class="p">(</span><span class="ss">page: </span><span class="n">input</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:page</span><span class="p">),</span> <span class="ss">per_page: </span><span class="n">input</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:per_page</span><span class="p">))</span>
          <span class="no">Decorators</span><span class="o">::</span><span class="no">PublicPost</span><span class="p">.</span><span class="nf">decorate</span><span class="p">(</span><span class="n">posts</span><span class="p">)</span>
        <span class="k">end</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Interested? <a href="/gems/dry-view">Head over to the documentation to learn more</a>. We think you’ll find it both powerful and flexible, but also fun and easy to use.</p>
</article></div></div></main><footer><div class="content-wrap"><nav class="footer__links"><ul><li><a href="/gems"><span>Gems</span></a></li><li><a href="/community"><span>Community</span></a></li><li><a href="https://github.com/dry-rb"><span>Code</span></a></li><li><a href="https://discourse.dry-rb.org"><span>Discussion</span></a></li><li><a href="https://dry-rb.zulipchat.com"><span>Chat</span></a></li><li><a href="https://twitter.com/dry_rb"><span>Twitter</span></a></li></ul></nav><div class="footer__credits"><p>Website made with love by <a href="https://www.icelab.com.au/">Icelab</a>.</p></div><div class="footer__credits"><p>Found a typo? Want to add something? <br />Send us an issue or a pull-request at <a href="https://github.com/dry-rb/dry-rb.org/">GitHub</a>.</p></div></div></footer></body></html>